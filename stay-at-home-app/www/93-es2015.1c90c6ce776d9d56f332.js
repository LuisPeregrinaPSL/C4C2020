(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{IMpU:function(t,e,n){"use strict";n.r(e);var i=n("8Y7J");class l{}var s=n("pMnS"),o=n("MKJQ"),r=n("sZkV"),u=n("2Vo4"),a=n("quSY"),h=n("lJxs");const c=new i.o("shareButtonsConfig");class d{constructor(t,e,n,i,l,s,o,r){this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._self=this,this.supportShareCount=!1}get text(){return this._props.text}get ariaLabel(){return this._props.ariaLabel}get color(){return this._props.color}get icon(){return this._props.icon}get desktop(){}get android(){return this.desktop}get ios(){return this.desktop}get sharerUrl(){return this._platform.IOS?this.ios:this._platform.ANDROID?this.android:this.desktop}click(t){return this._open(this._serializeMetaTags(t))}shareCount(t){}_serializeMetaTags(t){return Object.entries(this._supportedMetaTags).map(([e,n])=>t[e]?`${n}=${encodeURIComponent(t[e])}`:"").join("&")}_open(t){return new Promise(e=>{if(this.sharerUrl&&this._platform.isBrowser){const n=this.sharerUrl+t;this._logger(n);const i=this._document.defaultView.open(n,"newwindow",this._windowSize);if(i){const t=this._document.defaultView.setInterval(()=>{i.closed&&(this._document.defaultView.clearInterval(t),e())},200)}}else console.warn(`${this.text} button is not compatible on this Platform`)})}}class p extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this.supportShareCount=!0,this._supportedMetaTags={url:"u"}}get desktop(){return"https://www.facebook.com/sharer/sharer.php?"}shareCount(t){return this._http.get(`https://graph.facebook.com?id=${t}`).pipe(Object(h.a)(t=>+t.share.share_count))}}class g extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url",description:"text",tags:"hashtags",via:"via"}}get desktop(){return"https://twitter.com/intent/tweet?"}}class b extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url",title:"title",description:"summary"}}get desktop(){return"http://www.linkedin.com/shareArticle?"}}class f extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url"}}get desktop(){return"https://plus.google.com/share?"}}class m extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this.supportShareCount=!0,this._supportedMetaTags={url:"canonicalUrl",description:"caption",tags:"tags"}}get desktop(){return"http://tumblr.com/widgets/share/tool?"}shareCount(t){return this._http.jsonp(`https://api.tumblr.com/v2/share/stats?url=${t}`,"callback").pipe(Object(h.a)(t=>+t.response.note_count))}}class _ extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this.supportShareCount=!0,this._supportedMetaTags={url:"url",description:"description",image:"media"}}get desktop(){return"https://pinterest.com/pin/create/button/?"}click(t){if(t.image)return this._open(this._serializeMetaTags(t));console.warn("Pinterest button: image parameter is required!")}shareCount(t){return this._http.get(`https://api.pinterest.com/v1/urls/count.json?url=${t}`,{responseType:"text"}).pipe(Object(h.a)(t=>JSON.parse(t.replace(/^receiveCount\((.*)\)/,"$1"))),Object(h.a)(t=>+t.count))}}class w extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url",title:"title"}}get desktop(){return"http://www.reddit.com/submit?"}}class k extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url"}}get desktop(){return"http://vk.com/share.php?"}}class v extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url",description:"text"}}get desktop(){return"https://t.me/share/url?"}}class x extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"link"}}get android(){return"fb-messenger://share/?"}get ios(){return"fb-messenger://share/?"}}class B extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={description:"text"}}get desktop(){return"https://wa.me/?"}get android(){return"whatsapp://send?"}get ios(){return"https://api.whatsapp.com/send?"}click(t){t.description=t.description?`${t.description}\r\n${this._url()}`:this._url();const e=this._serializeMetaTags(t);return this._open(e)}}class C extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url"}}get desktop(){return"https://www.xing.com/app/user?op=share&"}}class T extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={description:"body"}}get desktop(){return"sms:?"}get android(){return"sms:?"}get ios(){return"sms:&"}click(t){t.description=t.description?`${t.description}\r\n${this._url()}`:this._url();const e=this._serializeMetaTags(t);return this._open(e)}}class S extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={title:"subject",description:"body"}}get desktop(){return"mailto:?"}click(t){t.description=t.description?`${t.description}\r\n${this._url()}`:this._url();const e=this._serializeMetaTags(t);return this._open(e)}}class y extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r}click(){return new Promise(t=>{this._document.defaultView.print(),t()})}}class I extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r}get text(){return this._disable?this._props.extra.successLabel:this._props.text}get icon(){return this._disable?this._props.extra.successIcon:this._props.icon}_disableButton(){this._disable=!0,this._disableButtonClick(!0)}_resetButton(){this._disable=!1,this._disableButtonClick(!1)}click(){return new Promise(t=>{try{const e=this._document.createElement("textarea");if(e.value=decodeURIComponent(this._url()),this._document.body.appendChild(e),this._platform.IOS){const t=this._document.createRange();t.selectNodeContents(e);const n=this._document.defaultView.getSelection();n.removeAllRanges(),n.addRange(t),e.readOnly=!0,e.setSelectionRange(0,999999)}else e.select();this._document.execCommand("copy"),this._document.body.removeChild(e),this._disableButton()}catch(e){console.warn("Copy link failed!",e.message)}finally{setTimeout(()=>this._resetButton(),2e3),t()}})}}class M extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url"}}get desktop(){return"https://mix.com/add?"}}class q extends d{constructor(t,e,n,i,l,s,o,r){super(t,e,n,i,l,s,o,r),this._props=t,this._url=e,this._http=n,this._platform=i,this._document=l,this._windowSize=s,this._disableButtonClick=o,this._logger=r,this._supportedMetaTags={url:"url"}}get desktop(){return"https://social-plugins.line.me/lineit/share?"}}const E={facebook:{create:(t,e,n,i,l,s,o,r)=>new p(t,e,n,i,l,s,o,r),text:"Facebook",icon:["fab","facebook-f"],color:"#4267B2",ariaLabel:"Share on Facebook"},twitter:{create:(t,e,n,i,l,s,o,r)=>new g(t,e,n,i,l,s,o,r),text:"Twitter",icon:["fab","twitter"],color:"#00acee",ariaLabel:"Share on Twitter"},linkedin:{create:(t,e,n,i,l,s,o,r)=>new b(t,e,n,i,l,s,o,r),text:"LinkedIn",icon:["fab","linkedin-in"],color:"#006fa6",ariaLabel:"Share on LinkedIn"},google:{create:(t,e,n,i,l,s,o,r)=>new f(t,e,n,i,l,s,o,r),text:"Google+",icon:["fab","google-plus-g"],color:"#DB4437",ariaLabel:"Share on Google plus"},pinterest:{create:(t,e,n,i,l,s,o,r)=>new _(t,e,n,i,l,s,o,r),text:"Pinterest",icon:["fab","pinterest-p"],color:"#BD091D",ariaLabel:"Share on Pinterest"},reddit:{create:(t,e,n,i,l,s,o,r)=>new w(t,e,n,i,l,s,o,r),text:"Reddit",icon:["fab","reddit-alien"],color:"#FF4006",ariaLabel:"Share on Reddit"},tumblr:{create:(t,e,n,i,l,s,o,r)=>new m(t,e,n,i,l,s,o,r),text:"Tumblr",icon:["fab","tumblr"],color:"#36465D",ariaLabel:"Share on Tumblr"},mix:{create:(t,e,n,i,l,s,o,r)=>new M(t,e,n,i,l,s,o,r),text:"Mix",icon:["fab","mix"],color:"#ff8226",ariaLabel:"Share on Mix"},vk:{create:(t,e,n,i,l,s,o,r)=>new k(t,e,n,i,l,s,o,r),text:"VKontakte",icon:["fab","vk"],color:"#4C75A3",ariaLabel:"Share on VKontakte"},telegram:{create:(t,e,n,i,l,s,o,r)=>new v(t,e,n,i,l,s,o,r),text:"Telegram",icon:["fab","telegram-plane"],color:"#0088cc",ariaLabel:"Share on Telegram"},messenger:{create:(t,e,n,i,l,s,o,r)=>new x(t,e,n,i,l,s,o,r),text:"Messenger",icon:["fab","facebook-messenger"],color:"#0080FF",ariaLabel:"Share on Messenger"},whatsapp:{create:(t,e,n,i,l,s,o,r)=>new B(t,e,n,i,l,s,o,r),text:"WhatsApp",icon:["fab","whatsapp"],color:"#25D366",ariaLabel:"Share on WhatsApp"},xing:{create:(t,e,n,i,l,s,o,r)=>new C(t,e,n,i,l,s,o,r),text:"Xing",icon:["fab","xing"],color:"#006567",ariaLabel:"Share on Xing"},line:{create:(t,e,n,i,l,s,o,r)=>new q(t,e,n,i,l,s,o,r),text:"Line",icon:["fab","line"],color:"#00b900",ariaLabel:"Share on Line"},sms:{create:(t,e,n,i,l,s,o,r)=>new T(t,e,n,i,l,s,o,r),text:"SMS",icon:"comment-alt",color:"#20c16c",ariaLabel:"Share link via SMS"},email:{create:(t,e,n,i,l,s,o,r)=>new S(t,e,n,i,l,s,o,r),text:"Email",icon:"envelope",color:"#FF961C",ariaLabel:"Share link via email"},print:{create:(t,e,n,i,l,s,o,r)=>new y(t,e,n,i,l,s,o,r),text:"Print",icon:"print",color:"#765AA2",ariaLabel:"Print page"},copy:{create:(t,e,n,i,l,s,o,r)=>new I(t,e,n,i,l,s,o,r),text:"Copy link",icon:"link",color:"#607D8B",ariaLabel:"Copy link",extra:{successLabel:"Copied",successIcon:"check"}}};function O(t){return t&&"object"==typeof t&&!Array.isArray(t)}let R=(()=>{class t{constructor(t){this.config={prop:E,theme:"default",include:[],exclude:[],size:0,autoSetMeta:!0,windowWidth:800,windowHeight:500,moreButtonIcon:"ellipsis-h",lessButtonIcon:"minus"},this.config$=new u.a(this.config),t&&this.setConfig(t)}get prop(){return this.config.prop}get windowSize(){return`width=${this.config.windowWidth}, height=${this.config.windowHeight}`}setConfig(t){this.config=function t(e,...n){if(!n.length)return e;const i=n.shift();if(O(e)&&O(i))for(const l in i)O(i[l])?(e[l]||Object.assign(e,{[l]:{}}),t(e[l],i[l])):Object.assign(e,{[l]:i[l]});return t(e,...n)}(this.config,t),this.config$.next(this.config)}}return t.ngInjectableDef=Object(i.Q)({factory:function(){return new t(Object(i.U)(c,8))},token:t,providedIn:"root"}),t})();class D{constructor(t,e,n,l,s,o,r,u){this._meta=t,this._el=e,this._http=n,this._platform=l,this._renderer=s,this._cd=o,this._share=r,this._document=u,this._shareWindowClosed=a.a.EMPTY,this.getCount=!1,this.autoSetMeta=this._share.config.autoSetMeta,this.url=this._share.config.url,this.title=this._share.config.title,this.description=this._share.config.description,this.image=this._share.config.image,this.tags=this._share.config.tags,this.count=new i.m,this.opened=new i.m,this.closed=new i.m}share(){const t=this.autoSetMeta?{url:this.url,title:this.title||this._getMetaTagContent("og:title"),description:this.description||this._getMetaTagContent("og:description"),image:this.image||this._getMetaTagContent("og:image"),via:this._share.config.twitterAccount,tags:this.tags}:{url:this.url,title:this.title,description:this.description,image:this.image,tags:this.tags,via:this._share.config.twitterAccount};this.opened.emit(this.shareButtonName),this.shareButton.click(t).then(()=>this.closed.emit(this.shareButtonName))}ngOnChanges(t){this._platform.isBrowser&&(this._shareButtonChanged(t.shareButtonName)&&this._createShareButton(),this._urlChanged(t.url)&&(this.url=function(t,e){if(t){if(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t))return t;console.warn(`[ShareButtons]: Sharing link '${t}' is invalid!`)}return e}(this.autoSetMeta?this.url||this._getMetaTagContent("og:url"):this.url,this._document.defaultView.location.href),this.getCount&&this.shareButton.supportShareCount&&this.shareButton.shareCount(this.url).subscribe(t=>this.count.emit(t))))}ngOnDestroy(){this._shareWindowClosed.unsubscribe()}_createShareButton(){const t=this._share.config.prop[this.shareButtonName],e=t.create(t,()=>this.url,this._http,this._platform,this._document,this._share.windowSize,t=>{this.pointerEvents=t?"none":"auto",this._cd.markForCheck()},t=>this._share.config.debug?console.log(t):null);e?(this.shareButton=e,this._renderer.removeClass(this._el.nativeElement,`sb-${this._buttonClass}`),this._renderer.addClass(this._el.nativeElement,`sb-${this.shareButtonName}`),this._el.nativeElement.style.setProperty("--button-color",this.shareButton.color),this._buttonClass=this.shareButtonName,this._renderer.setAttribute(this._el.nativeElement,"aria-label",e.ariaLabel)):console.error(`[ShareButtons]: The share button '${this.shareButtonName}' does not exist!`)}_getMetaTagContent(t){const e=this._meta.getTag(`property="${t}"`);if(e)return e.getAttribute("content");const n=this._meta.getTag(`name="${t}"`);return n?n.getAttribute("content"):void 0}_shareButtonChanged(t){return t&&(t.firstChange||t.previousValue!==t.currentValue)}_urlChanged(t){return!this.url||t&&t.previousValue!==t.currentValue}}class z{static withConfig(t){return{ngModule:z,providers:[{provide:c,useValue:t}]}}}var A=n("cUpR"),L=n("IheW"),N=n("SVse");let G;try{G="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Bt){G=!1}let j=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Object(N.q)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!G)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275prov=Object(i.Nb)({factory:function(){return new t(Object(i.Ob)(i.z,8))},token:t,providedIn:"root"}),t})();class F{}var V=function(t){return t[t.ing=0]="ing",t[t.pause=1]="pause",t[t.stop=2]="stop",t[t.done=3]="done",t}({});let W=class{constructor(t){this.ngZone=t,this.fns=[],this.commands=[],this.ing=!1}start(){!0!==this.ing&&(this.ing=!0,this.nextTime=+new Date,this.ngZone.runOutsideAngular(()=>{this.process()}))}process(){for(;this.commands.length;)this.commands.shift()();let t=+new Date-this.nextTime;const e=1+Math.floor(t/100);t=100-t%100,this.nextTime+=100*e;for(let n=0,i=this.fns.length;n<i;n+=2){let t=this.fns[n+1];if(0===t)this.fns[n](e);else{t+=2*e-1;const i=Math.floor(t/20);i>0&&this.fns[n](i),this.fns[n+1]=t%20+1}}this.ing&&setTimeout(()=>this.process(),t)}add(t,e){return this.commands.push(()=>{this.fns.push(t),this.fns.push(1e3===e?1:0),this.ing=!0}),this}remove(t){return this.commands.push(()=>{const e=this.fns.indexOf(t);-1!==e&&this.fns.splice(e,2),this.ing=this.fns.length>0}),this}},P=(()=>{let t=class{constructor(t){this.locale=t,this.demand=!1,this.leftTime=0,this.format="HH:mm:ss",this.timezone="+0000",this.formatDate=({date:t,formatStr:e,timezone:n})=>Object(N.p)(new Date(t),e,this.locale,n||this.timezone||"+0000")}};return t.\u0275prov=Object(i.Nb)({factory:function(){return new t(Object(i.Ob)(i.s))},token:t,providedIn:"root"}),t})(),$=class{constructor(t,e,n,l,s){this.locale=t,this.timer=e,this.defCog=n,this.cdr=l,this.ngZone=s,this.frequency=1e3,this._notify={},this.status=V.ing,this.isDestroy=!1,this.i={},this.left=0,this.event=new i.m}begin(){this.status=V.ing,this.callEvent("start")}restart(){this.status!==V.stop&&this.destroy(),this.init(),this.callEvent("restart")}stop(){this.status!==V.stop&&(this.status=V.stop,this.destroy(),this.callEvent("stop"))}pause(){this.status!==V.stop&&this.status!==V.pause&&(this.status=V.pause,this.callEvent("pause"))}resume(){this.status!==V.stop&&this.status===V.pause&&(this.status=V.ing,this.callEvent("resume"))}callEvent(t){this.event.emit({action:t,left:this.left,status:this.status,text:this.i.text})}init(){const{locale:t,defCog:e}=this,n=this.config=Object.assign(Object.assign(Object.assign({},new P(t)),e),this.config),i=this.frequency=~n.format.indexOf("S")?100:1e3;this.status=n.demand?V.pause:V.ing,this.getLeft();const l=this.reflow;this.reflow=(t=0,e=!1)=>l.apply(this,[t,e]),Array.isArray(n.notify)&&n.notify.forEach(t=>{if(t<1)throw new Error("The notify config must be a positive integer.");t*=1e3,this._notify[t-=t%i]=!0}),this.timer.add(this.reflow,i).start(),this.reflow(0,!0)}destroy(){return this.timer.remove(this.reflow),this}reflow(t=0,e=!1){if(this.isDestroy)return;const{status:n,config:i,_notify:l}=this;if(!e&&n!==V.ing)return;const s=this.left=this.left-this.frequency*t;this.i={value:s,text:i.formatDate({date:s,formatStr:i.format,timezone:i.timezone})},"function"==typeof i.prettyText&&(this.i.text=i.prettyText(this.i.text)),this.cdr.detectChanges(),(0===i.notify||l[s])&&this.ngZone.run(()=>{this.callEvent("notify")}),s<1&&this.ngZone.run(()=>{this.status=V.done,this.callEvent("done"),this.destroy()})}getLeft(){const{config:t,frequency:e}=this;let n=1e3*t.leftTime;const i=t.stopTime;!n&&i&&(n=i-(new Date).getTime()),this.left=n-n%e}ngOnInit(){this.init(),this.config.demand||this.begin()}ngOnDestroy(){this.isDestroy=!0,this.destroy()}ngOnChanges(t){t.config.firstChange||this.restart()}},J=class{};var U=i.pb({encapsulation:2,styles:[],data:{}});function K(t){return i.Jb(0,[(t()(),i.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(t()(),i.rb(1,0,null,null,0,"span",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(t,e){t(e,1,0,e.component.i.text)}))}function H(t){return i.Jb(0,[(t()(),i.rb(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function X(t){return i.Jb(2,[(t()(),i.gb(16777216,null,null,1,null,K)),i.qb(1,16384,null,0,N.i,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i.gb(16777216,null,null,2,null,H)),i.qb(3,540672,null,0,N.l,[i.M],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),i.Eb(4,{$implicit:0})],(function(t,e){var n=e.component;t(e,1,0,!n.render);var i=t(e,4,0,n.i);t(e,3,0,i,n.render)}),null)}var Q=n("mrSG"),Z=n("abcn"),Y=n("vCEr"),tt=n("mlpq"),et=n("gcOT"),nt=n("JJg2"),it=n("8G2o"),lt=n("l207"),st=n("n6ga"),ot=n("/fki"),rt=n("PkfG"),ut=n("2qmX"),at=n("HC5s");class ht{constructor(t){this.confettiElement=t}confetti(t){return window.confetti.apply(this,arguments)}standard(){this.confetti({angle:at.a.getRandomInt(60,120),spread:at.a.getRandomInt(10,200),particleCount:at.a.getRandomInt(100,500)})}fanfare(){var t=Date.now()+nt.a.WELCOME_FANFARE_TIMEOUT,e=["#bb0000","#ffffff"];!function n(i){window.confetti({particleCount:2,angle:60,spread:55,origin:{x:0},colors:e}),window.confetti({particleCount:2,angle:120,spread:55,origin:{x:1},colors:e}),Date.now()<t&&requestAnimationFrame(n)}()}snow(){var t=Date.now()+15e3,e=1;!function n(){var i=t-Date.now(),l=Math.max(200,i/15e3*500);e=Math.max(.8,e-.001),this.confetti({particleCount:1,startVelocity:0,ticks:l,origin:{x:Math.random(),y:Math.random()*e-.2},colors:["#ffffff"],shapes:["circle"]}),i>0&&requestAnimationFrame(n)}()}}var ct=n("3pPM");const{Share:dt}=et.b;class pt{constructor(t,e,n,i,l,s,o){this.configService=t,this.screenshot=e,this.restApi=n,this.forestWatcher=i,this.platform=l,this.navCtrl=s,this.gpsService=o,this.config=new Z.a,this.timeToGrowTree=nt.a.TIME_TO_GROW_TREE/1e3,this.countdownHack=!1,t.update.subscribe(t=>{this.config=t}),i.shrink.subscribe(t=>{this.countdown.stop()}),i.level.subscribe(()=>{this.confettiUtil.fanfare()}),this.iFrameDetection=setInterval(()=>{var t=document.activeElement;t&&"IFRAME"==t.tagName&&"vrWindow"==t.id&&(this.navCtrl.navigateForward("tabs/cities"),clearInterval(this.iFrameDetection))},100)}ngOnInit(){this.pageWidth=this.platform.width(),this.pageHeight=this.platform.height(),window.addEventListener("onVRLoaded",t=>Q.a(this,void 0,void 0,(function*(){console.log("Getting onVRLoaded");let e=yield this.forestWatcher.getCount();this.fRenderer=new ct.a(t.document,t.aframe,t.three),this.fRenderer.setCurrentView("gView"),this.fRenderer.setLevel(yield this.forestWatcher.getCurrentLevel()),this.fRenderer.setTreeCount(e,!1)})),!1),window.addEventListener("onVRChangeView",t=>Q.a(this,void 0,void 0,(function*(){console.log("Getting onVRChangeView"),null!=this.fRenderer&&this.fRenderer.setCurrentView(t.view)})),!1),this.forestWatcher.grow.subscribe(()=>Q.a(this,void 0,void 0,(function*(){console.log("Listener Events.GROWING");let t=yield this.forestWatcher.getCount();this.fRenderer.setTreeCount(t,!0)}))),this.forestWatcher.level.subscribe(t=>{console.log("New Level!!!"),this.fRenderer.setLevel(t)})}restartCountdown(){return Q.a(this,void 0,void 0,(function*(){this.config&&this.countdown.left<1&&this.forestWatcher.status==rt.a.GROWING&&ut.a.isInForeground()&&ut.a.shouldAppBeRunning()&&(yield this.forestWatcher.calculate(new Date))>0&&(console.log("Adding tree in foreground"),this.countdown.restart(),this.countdown.begin(),this.confettiUtil.standard()),setTimeout(()=>this.restartCountdown(),nt.a.TIME_TO_GROW_TREE)}))}ngAfterViewInit(){this.confettiUtil=new ht(this.confetti.nativeElement),this.configService.getConfiguration().then(t=>{this.config=t,t.geolocationEnabled&&t.home&&this.countdown.begin()}),this.restartCountdown(),setTimeout(()=>{this.confettiUtil.fanfare()},1e3)}shareOptions(){return Q.a(this,void 0,void 0,(function*(){try{this.screenshot.URI(50).then(t=>{this.restApi.uploadImage(this.config.deviceId,t.URI)})}catch(t){}dt.share({title:"Stay@home",text:"I have "+this.config.trees+" trees in my forest. Can you beat my record?",url:lt.a.SERVER+"?id="+this.config.deviceId,dialogTitle:"Share with buddies"})}))}goToForestTab(){this.navCtrl.navigateForward("tabs/cities")}isBrowser(){return this.platform.is("desktop")}}var gt=i.pb({encapsulation:0,styles:[["#vrWindow[_ngcontent-%COMP%]{border-radius:1%!important;border:none}ion-toolbar[_ngcontent-%COMP%]{--background:var(--ion-color-primary);--color:#ffffff}ion-content[_ngcontent-%COMP%]{--background:var(--ion-color-secondary)}#confetti[_ngcontent-%COMP%]{z-index:20;position:absolute;width:100%;height:100%;pointer-events:none}"]],data:{}});function bt(t){return i.Jb(0,[(t()(),i.rb(0,0,null,null,3,"ion-fab-button",[],null,null,null,o.K,o.l)),i.qb(1,49152,null,0,r.w,[i.h,i.k,i.x],null,null),(t()(),i.rb(2,0,null,0,1,"ion-icon",[["name","share-social"]],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.shareOptions()&&i),i}),o.P,o.p)),i.qb(3,49152,null,0,r.B,[i.h,i.k,i.x],{name:[0,"name"]},null)],(function(t,e){t(e,3,0,"share-social")}),null)}function ft(t){return i.Jb(0,[(t()(),i.rb(0,0,null,null,3,"ion-fab-button",[],null,null,null,o.K,o.l)),i.qb(1,49152,null,0,r.w,[i.h,i.k,i.x],null,null),(t()(),i.rb(2,0,null,0,1,"ion-icon",[["name","add"]],null,null,null,o.P,o.p)),i.qb(3,49152,null,0,r.B,[i.h,i.k,i.x],{name:[0,"name"]},null)],(function(t,e){t(e,3,0,"add")}),null)}function mt(t){return i.Jb(0,[(t()(),i.rb(0,0,null,null,16,"ion-fab-list",[["side","start"]],null,null,null,o.L,o.m)),i.qb(1,49152,null,0,r.x,[i.h,i.k,i.x],{side:[0,"side"]},null),(t()(),i.rb(2,0,null,0,4,"ion-fab-button",[["color","light"],["shareButton","facebook"]],[[4,"pointerEvents",null]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i.Db(t,4).share()&&l),l}),o.K,o.l)),i.qb(3,49152,null,0,r.w,[i.h,i.k,i.x],{color:[0,"color"]},null),i.qb(4,671744,null,0,D,[A.h,i.k,L.c,j,i.B,i.h,R,N.c],{shareButtonName:[0,"shareButtonName"]},null),(t()(),i.rb(5,0,null,0,1,"ion-icon",[["name","logo-facebook"]],null,null,null,o.P,o.p)),i.qb(6,49152,null,0,r.B,[i.h,i.k,i.x],{name:[0,"name"]},null),(t()(),i.rb(7,0,null,0,4,"ion-fab-button",[["color","light"],["shareButton","twitter"]],[[4,"pointerEvents",null]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i.Db(t,9).share()&&l),l}),o.K,o.l)),i.qb(8,49152,null,0,r.w,[i.h,i.k,i.x],{color:[0,"color"]},null),i.qb(9,671744,null,0,D,[A.h,i.k,L.c,j,i.B,i.h,R,N.c],{shareButtonName:[0,"shareButtonName"]},null),(t()(),i.rb(10,0,null,0,1,"ion-icon",[["name","logo-twitter"]],null,null,null,o.P,o.p)),i.qb(11,49152,null,0,r.B,[i.h,i.k,i.x],{name:[0,"name"]},null),(t()(),i.rb(12,0,null,0,4,"ion-fab-button",[["color","light"],["shareButton","linkedin"]],[[4,"pointerEvents",null]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==i.Db(t,14).share()&&l),l}),o.K,o.l)),i.qb(13,49152,null,0,r.w,[i.h,i.k,i.x],{color:[0,"color"]},null),i.qb(14,671744,null,0,D,[A.h,i.k,L.c,j,i.B,i.h,R,N.c],{shareButtonName:[0,"shareButtonName"]},null),(t()(),i.rb(15,0,null,0,1,"ion-icon",[["name","logo-linkedin"]],null,null,null,o.P,o.p)),i.qb(16,49152,null,0,r.B,[i.h,i.k,i.x],{name:[0,"name"]},null)],(function(t,e){t(e,1,0,"start"),t(e,3,0,"light"),t(e,4,0,"facebook"),t(e,6,0,"logo-facebook"),t(e,8,0,"light"),t(e,9,0,"twitter"),t(e,11,0,"logo-twitter"),t(e,13,0,"light"),t(e,14,0,"linkedin"),t(e,16,0,"logo-linkedin")}),(function(t,e){t(e,2,0,i.Db(e,4).pointerEvents),t(e,7,0,i.Db(e,9).pointerEvents),t(e,12,0,i.Db(e,14).pointerEvents)}))}function _t(t){return i.Jb(0,[i.Gb(671088640,1,{countdown:0}),i.Gb(671088640,2,{confetti:0}),(t()(),i.rb(2,0,null,null,6,"ion-header",[],null,null,null,o.O,o.o)),i.qb(3,49152,null,0,r.A,[i.h,i.k,i.x],null,null),(t()(),i.rb(4,0,null,0,4,"ion-toolbar",[],null,null,null,o.Z,o.z)),i.qb(5,49152,null,0,r.yb,[i.h,i.k,i.x],null,null),(t()(),i.rb(6,0,null,0,2,"ion-title",[],null,null,null,o.Y,o.y)),i.qb(7,49152,null,0,r.wb,[i.h,i.k,i.x],null,null),(t()(),i.Ib(-1,0,["Stay@Home"])),(t()(),i.rb(9,0,null,null,81,"ion-content",[["fullscreen",""]],null,null,null,o.J,o.j)),i.qb(10,49152,null,0,r.t,[i.h,i.k,i.x],{fullscreen:[0,"fullscreen"]},null),(t()(),i.rb(11,0,[[2,0],["confetti",1]],0,0,"canvas",[["id","confetti"]],[[8,"width",0],[8,"height",0]],null,null,null,null)),(t()(),i.rb(12,0,null,0,70,"ion-grid",[],null,null,null,o.N,o.n)),i.qb(13,49152,null,0,r.z,[i.h,i.k,i.x],null,null),(t()(),i.rb(14,0,null,0,68,"ion-row",[],null,null,null,o.T,o.t)),i.qb(15,49152,null,0,r.fb,[i.h,i.k,i.x],null,null),(t()(),i.rb(16,0,null,0,38,"ion-col",[["size-md","6"]],null,null,null,o.I,o.i)),i.qb(17,49152,null,0,r.s,[i.h,i.k,i.x],null,null),(t()(),i.rb(18,0,null,0,36,"ion-card",[],null,null,null,o.G,o.d)),i.qb(19,49152,null,0,r.l,[i.h,i.k,i.x],null,null),(t()(),i.rb(20,0,null,0,4,"ion-card-header",[],null,null,null,o.E,o.f)),i.qb(21,49152,null,0,r.n,[i.h,i.k,i.x],null,null),(t()(),i.rb(22,0,null,0,2,"ion-card-title",[],null,null,null,o.F,o.g)),i.qb(23,49152,null,0,r.p,[i.h,i.k,i.x],null,null),(t()(),i.Ib(-1,0,["My forest "])),(t()(),i.rb(25,0,null,0,29,"ion-card-content",[],null,null,null,o.D,o.e)),i.qb(26,49152,null,0,r.m,[i.h,i.k,i.x],null,null),(t()(),i.rb(27,0,null,0,1,"div",[],null,[[null,"click"]],(function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.goToForestTab()&&i),i}),null,null)),(t()(),i.rb(28,0,null,null,0,"iframe",[["height","300vh"],["id","vrWindow"],["src","/assets/aframe.html"],["width","100%"]],null,null,null,null,null)),(t()(),i.rb(29,0,null,0,7,"ion-item",[],null,null,null,o.Q,o.q)),i.qb(30,49152,null,0,r.G,[i.h,i.k,i.x],null,null),(t()(),i.rb(31,0,null,0,2,"ion-label",[],null,null,null,o.R,o.r)),i.qb(32,49152,null,0,r.M,[i.h,i.k,i.x],null,null),(t()(),i.Ib(-1,0,["Forest level:"])),(t()(),i.rb(34,0,null,0,2,"ion-text",[["slot","end"]],null,null,null,o.X,o.x)),i.qb(35,49152,null,0,r.tb,[i.h,i.k,i.x],null,null),(t()(),i.Ib(36,0,["",""])),(t()(),i.rb(37,0,null,0,7,"ion-item",[],null,null,null,o.Q,o.q)),i.qb(38,49152,null,0,r.G,[i.h,i.k,i.x],null,null),(t()(),i.rb(39,0,null,0,2,"ion-label",[],null,null,null,o.R,o.r)),i.qb(40,49152,null,0,r.M,[i.h,i.k,i.x],null,null),(t()(),i.Ib(-1,0,["Trees in my forest:"])),(t()(),i.rb(42,0,null,0,2,"ion-text",[["slot","end"]],null,null,null,o.X,o.x)),i.qb(43,49152,null,0,r.tb,[i.h,i.k,i.x],null,null),(t()(),i.Ib(44,0,["",""])),(t()(),i.rb(45,0,null,0,9,"ion-item",[],null,null,null,o.Q,o.q)),i.qb(46,49152,null,0,r.G,[i.h,i.k,i.x],null,null),(t()(),i.rb(47,0,null,0,2,"ion-label",[],null,null,null,o.R,o.r)),i.qb(48,49152,null,0,r.M,[i.h,i.k,i.x],null,null),(t()(),i.Ib(-1,0,["Next tree in:"])),(t()(),i.rb(50,0,null,0,4,"ion-text",[["slot","end"]],null,null,null,o.X,o.x)),i.qb(51,49152,null,0,r.tb,[i.h,i.k,i.x],null,null),(t()(),i.rb(52,0,null,0,2,"countdown",[],[[2,"count-down",null]],null,null,X,U)),i.qb(53,770048,[[1,4],["countdown",4]],0,$,[i.s,W,P,i.h,i.x],{config:[0,"config"]},null),i.Eb(54,{leftTime:0,format:1,demand:2}),(t()(),i.rb(55,0,null,0,27,"ion-col",[["size-md","6"]],null,null,null,o.I,o.i)),i.qb(56,49152,null,0,r.s,[i.h,i.k,i.x],null,null),(t()(),i.rb(57,0,null,0,25,"ion-card",[],null,null,null,o.G,o.d)),i.qb(58,49152,null,0,r.l,[i.h,i.k,i.x],null,null),(t()(),i.rb(59,0,null,0,4,"ion-card-header",[],null,null,null,o.E,o.f)),i.qb(60,49152,null,0,r.n,[i.h,i.k,i.x],null,null),(t()(),i.rb(61,0,null,0,2,"ion-card-title",[],null,null,null,o.F,o.g)),i.qb(62,49152,null,0,r.p,[i.h,i.k,i.x],null,null),(t()(),i.Ib(-1,0,["Game rules"])),(t()(),i.rb(64,0,null,0,18,"ion-card-content",[],null,null,null,o.D,o.e)),i.qb(65,49152,null,0,r.m,[i.h,i.k,i.x],null,null),(t()(),i.rb(66,0,null,0,16,"ion-list",[],null,null,null,o.S,o.s)),i.qb(67,49152,null,0,r.N,[i.h,i.k,i.x],null,null),(t()(),i.rb(68,0,null,0,4,"ion-item",[],null,null,null,o.Q,o.q)),i.qb(69,49152,null,0,r.G,[i.h,i.k,i.x],null,null),(t()(),i.rb(70,0,null,0,2,"ion-label",[],null,null,null,o.R,o.r)),i.qb(71,49152,null,0,r.M,[i.h,i.k,i.x],null,null),(t()(),i.Ib(72,0,["You grow one tree every "," seconds you stay at home."])),(t()(),i.rb(73,0,null,0,4,"ion-item",[],null,null,null,o.Q,o.q)),i.qb(74,49152,null,0,r.G,[i.h,i.k,i.x],null,null),(t()(),i.rb(75,0,null,0,2,"ion-label",[],null,null,null,o.R,o.r)),i.qb(76,49152,null,0,r.M,[i.h,i.k,i.x],null,null),(t()(),i.Ib(77,0,["You lose one tree every "," seconds you stay at home."])),(t()(),i.rb(78,0,null,0,4,"ion-item",[],null,null,null,o.Q,o.q)),i.qb(79,49152,null,0,r.G,[i.h,i.k,i.x],null,null),(t()(),i.rb(80,0,null,0,2,"ion-label",[],null,null,null,o.R,o.r)),i.qb(81,49152,null,0,r.M,[i.h,i.k,i.x],null,null),(t()(),i.Ib(-1,0,["There are levels that you can achieve by growing a certain number of trees."])),(t()(),i.rb(83,0,null,0,7,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,o.M,o.k)),i.qb(84,49152,null,0,r.v,[i.h,i.k,i.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(t()(),i.gb(16777216,null,0,1,null,bt)),i.qb(86,16384,null,0,N.i,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i.gb(16777216,null,0,1,null,ft)),i.qb(88,16384,null,0,N.i,[i.M,i.J],{ngIf:[0,"ngIf"]},null),(t()(),i.gb(16777216,null,0,1,null,mt)),i.qb(90,16384,null,0,N.i,[i.M,i.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){var n=e.component;t(e,10,0,"");var i=t(e,54,0,n.timeToGrowTree,"mm:ss",!0);t(e,53,0,i),t(e,84,0,"end","bottom"),t(e,86,0,!n.isBrowser()),t(e,88,0,n.isBrowser()),t(e,90,0,n.isBrowser())}),(function(t,e){var n=e.component;t(e,11,0,i.vb(1,"",n.pageWidth,""),i.vb(1,"",n.pageHeight,"")),t(e,36,0,n.config.level),t(e,44,0,n.config.trees),t(e,52,0,!0),t(e,72,0,n.timeToGrowTree),t(e,77,0,n.timeToGrowTree)}))}function wt(t){return i.Jb(0,[(t()(),i.rb(0,0,null,null,1,"app-me",[],null,null,null,_t,gt)),i.qb(1,4308992,null,0,pt,[tt.a,it.a,st.a,ot.a,r.Fb,r.Eb,Y.a],null,null)],(function(t,e){t(e,1,0)}),null)}var kt=i.nb("app-me",pt,wt,{},{},[]),vt=n("iInd");n.d(e,"MePageModuleNgFactory",(function(){return xt}));var xt=i.ob(l,[],(function(t){return i.Ab([i.Bb(512,i.j,i.Z,[[8,[s.a,kt]],[3,i.j],i.v]),i.Bb(4608,N.k,N.j,[i.s,[2,N.t]]),i.Bb(4608,r.b,r.b,[i.x,i.g]),i.Bb(4608,r.Db,r.Db,[r.b,i.j,i.p]),i.Bb(4608,r.Gb,r.Gb,[r.b,i.j,i.p]),i.Bb(4608,W,W,[i.x]),i.Bb(4608,L.h,L.n,[N.c,i.z,L.l]),i.Bb(4608,L.o,L.o,[L.h,L.m]),i.Bb(5120,L.a,(function(t){return[t]}),[L.o]),i.Bb(4608,L.k,L.k,[]),i.Bb(6144,L.i,null,[L.k]),i.Bb(4608,L.g,L.g,[L.i]),i.Bb(6144,L.b,null,[L.g]),i.Bb(4608,L.f,L.j,[L.b,i.p]),i.Bb(4608,L.c,L.c,[L.f]),i.Bb(4608,j,j,[[2,i.z]]),i.Bb(4608,P,P,[i.s]),i.Bb(1073742336,N.b,N.b,[]),i.Bb(1073742336,r.Ab,r.Ab,[]),i.Bb(1073742336,vt.o,vt.o,[[2,vt.t],[2,vt.n]]),i.Bb(1073742336,J,J,[]),i.Bb(1073742336,F,F,[]),i.Bb(1073742336,z,z,[]),i.Bb(1073742336,L.e,L.e,[]),i.Bb(1073742336,L.d,L.d,[]),i.Bb(1073742336,l,l,[]),i.Bb(256,L.l,"XSRF-TOKEN",[]),i.Bb(256,L.m,"X-XSRF-TOKEN",[]),i.Bb(1024,vt.l,(function(){return[[{path:"",component:pt}]]}),[])])}))}}]);